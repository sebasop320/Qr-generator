<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>QR Code Generator</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; padding: 30px; background: #f4f4f4; }
    input { padding: 10px; margin: 5px; width: 250px; border-radius: 8px; border: 1px solid #ccc; }
    button { padding: 10px 15px; margin-top: 10px; border: none; border-radius: 8px; background: #0078D7; color: white; cursor: pointer; }
    button:hover { background: #005bb5; }
    #preview { margin-top: 20px; }
  </style>
</head>
<body>
  <h1>QR Code Generator</h1>

  <form id="qrForm">
    <input type="text" name="data" placeholder="Enter text or URL" required><br>
    <input type="text" name="fill_color" placeholder="Fill color (e.g., black or #000000)" value="black"><br>
    <input type="text" name="back_color" placeholder="Background color (e.g., white or #FFFFFF)" value="white"><br>
    <button type="submit">Generate QR</button>
  </form>

  <div id="preview"></div>

  <script>
    document.getElementById("qrForm").addEventListener("submit", async function(event) {
      event.preventDefault();
      const formData = new FormData(this);

      const response = await fetch("/generate", {
        method: "POST",
        body: formData
      });

      const blob = await response.blob();
      const url = URL.createObjectURL(blob);

      document.getElementById("preview").innerHTML =
        `<h3>Generated QR Code:</h3><img src="${url}" alt="QR Code"><br>
         <a href="${url}" download="MyQRCode.png">Download QR</a>`;
    });
  </script>
</body>
</html>
